(this["webpackJsonpdad-jokes"]=this["webpackJsonpdad-jokes"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n.n(s),c=n(24),r=n.n(c),o=(n(29),n(30),n(4)),i=n.n(o),d=n(5),u=n(10),j=n(14),l=n(6),h=n(7),b=n(3),f=n(9),k=n(8),p=n(15),O=n.n(p),v=(n(50),n(0)),m=function(e){Object(f.a)(n,e);var t=Object(k.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"Joke",children:this.props.joke})}}]),n}(s.Component),x=m,g=(n(52),function(e){Object(f.a)(n,e);var t=Object(k.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).add=s.add.bind(Object(b.a)(s)),s.reduce=s.reduce.bind(Object(b.a)(s)),s}return Object(h.a)(n,[{key:"add",value:function(e){this.props.add(this.props.id)}},{key:"reduce",value:function(e){this.props.reduce(this.props.id)}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"Score",children:[Object(v.jsx)("div",{className:"Score-btn",children:Object(v.jsx)("i",{className:"up fas fa-thumbs-up",onClick:this.add})}),Object(v.jsx)("div",{className:"Score-count",children:this.props.score}),Object(v.jsx)("div",{className:"Score-btn",children:Object(v.jsx)("i",{className:"down fas fa-thumbs-down",onClick:this.reduce})})]})}}]),n}(s.Component)),S=(n(53),function(e){Object(f.a)(n,e);var t=Object(k.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).state={jokes:[],isLoaded:!1},s.add=s.add.bind(Object(b.a)(s)),s.reduce=s.reduce.bind(Object(b.a)(s)),s.getJokes=s.getJokes.bind(Object(b.a)(s)),s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(i.a.mark((function e(){var t,n,s,a,c=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("https://icanhazdadjoke.com/",t={headers:{Accept:"application/json"}},n=[],null!==localStorage.getItem("jokes")){e.next=11;break}s=i.a.mark((function e(){var s,a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://icanhazdadjoke.com/",t);case 2:s=e.sent,c.setState({isLoaded:!1}),a=s.data.id,r=Object(d.a)(Object(d.a)({},s.data),{},{score:0}),o=n.findIndex((function(e){return e.id===a})),-1===o&&n.push(r);case 8:case"end":return e.stop()}}),e)}));case 5:return e.delegateYield(s(),"t0",6);case 6:if(n.length<=9){e.next=5;break}case 7:this.setState((function(e){return{jokes:[].concat(Object(u.a)(e.jokes),n),isLoaded:!0}})),localStorage.setItem("jokes",JSON.stringify(this.state.jokes)),e.next=13;break;case 11:a=JSON.parse(localStorage.getItem("jokes")),this.setState((function(e){return{jokes:[].concat(Object(u.a)(e.jokes),Object(u.a)(a)),isLoaded:!0}}));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getJokes",value:function(){var e=Object(j.a)(i.a.mark((function e(){var t,n,s,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"https://icanhazdadjoke.com/",t={headers:{Accept:"application/json"}},n=[],s=i.a.mark((function e(){var s,c,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://icanhazdadjoke.com/",t);case 2:s=e.sent,a.setState({isLoaded:!1}),c=s.data.id,r=Object(d.a)(Object(d.a)({},s.data),{},{score:0}),o=n.findIndex((function(e){return e.id===c}))&&a.state.jokes.findIndex((function(e){return e.id===c})),-1===o&&n.push(r);case 8:case"end":return e.stop()}}),e)}));case 4:return e.delegateYield(s(),"t0",5);case 5:if(n.length<=9){e.next=4;break}case 6:this.setState((function(e){return{jokes:[].concat(Object(u.a)(e.jokes),n),isLoaded:!0}})),localStorage.setItem("jokes",JSON.stringify(this.state.jokes));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){t!==this.state.jokes&&localStorage.setItem("jokes",JSON.stringify(this.state.jokes))}},{key:"add",value:function(e){this.state.jokes.sort((function(e,t){return t.score-e.score})),this.setState((function(t){return{jokes:t.jokes.map((function(t){return t.id===e?Object(d.a)(Object(d.a)({},t),{},{score:t.score+1}):t})).sort((function(e,t){return t.score-e.score}))}}))}},{key:"reduce",value:function(e){this.setState((function(t){return{jokes:t.jokes.map((function(t){return t.id===e?Object(d.a)(Object(d.a)({},t),{},{score:t.score-1}):t})).sort((function(e,t){return t.score-e.score}))}}))}},{key:"render",value:function(){var e=this,t=this.state.jokes.map((function(t){return Object(v.jsxs)("div",{className:"show",children:[Object(v.jsx)(g,{score:t.score,add:e.add,reduce:e.reduce,id:t.id}),Object(v.jsx)(x,{joke:t.joke})]},t.id)})),n=this.state.isLoaded;return Object(v.jsx)("div",{children:n?Object(v.jsxs)("div",{className:"Jokes",children:[Object(v.jsxs)("section",{className:"left",children:[Object(v.jsx)("h1",{children:"Dad Jokes"}),Object(v.jsx)("div",{className:"logo",children:Object(v.jsx)("i",{class:"fas fa-grin-squint-tears"})}),Object(v.jsx)("button",{className:"newJokes-btn",onClick:this.getJokes,children:"New Jokes"})]}),Object(v.jsx)("div",{className:"showContainer",children:t})]}):Object(v.jsx)("div",{className:"loading",children:Object(v.jsx)("div",{class:"loadingIcon fa-3x",children:Object(v.jsx)("i",{class:"fas fa-grin-squint-tears fa-spin"})})})})}}]),n}(s.Component)),N=S;var y=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(N,{})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};r.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(y,{})}),document.getElementById("root")),w()}},[[54,1,2]]]);
//# sourceMappingURL=main.e61e2110.chunk.js.map